<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>JA Traders – Technical Analysis Certification</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  background:#000;
  color:#d4af37;
  font-family: 'Georgia', serif;
}
.container{
  max-width:900px;
  margin:auto;
  padding:20px;
}
h1,h2{
  text-align:center;
}
input[type="text"]{
  width:100%;
  padding:12px;
  border-radius:6px;
  border:none;
  margin:15px 0;
}
.question{
  border:1px solid #d4af37;
  border-radius:10px;
  padding:15px;
  margin-bottom:15px;
}
label{
  display:block;
  margin:8px 0;
  cursor:pointer;
}
button{
  width:100%;
  padding:15px;
  background:#d4af37;
  color:#000;
  font-size:18px;
  border:none;
  border-radius:8px;
  margin-top:20px;
}
#result{
  text-align:center;
  font-size:20px;
  margin-top:20px;
}
canvas{
  display:none;
}
</style>
</head>

<body>
<div class="container">
<h1>JA TRADERS</h1>
<h2>Elite Technical Analysis Certification</h2>

<input type="text" id="name" placeholder="Your Full Name">

<div id="quiz"></div>

<button onclick="submitTest()">Submit Test</button>

<div id="result"></div>

<button id="downloadBtn" style="display:none" onclick="downloadCert()">Download Certificate</button>

<canvas id="cert" width="1200" height="800"></canvas>
</div>

<script>
const questions = [
 {q:"What confirms MSS?", o:["Break of structure","EMA crossover","RSI 70","News"], a:0},
 {q:"What is liquidity?", o:["Orders resting","Indicators","Trendline","Candle"], a:0},
 {q:"EMA 9 above EMA 21 means?", o:["Bullish","Bearish","Ranging","Reversal"], a:0},
 {q:"Purpose of stop hunt?", o:["Grab liquidity","Give profit","Trend change","Random"], a:0},
 {q:"Best timeframe for bias?", o:["HTF","1m","Tick","Random"], a:0},
 {q:"Liquidity usually rests at?", o:["Highs & Lows","Middle","EMA","VWAP"], a:0},
 {q:"CRT focuses on?", o:["Candle behavior","Indicators","News","Volume"], a:0},
 {q:"Strong trend shows?", o:["Higher highs","Equal highs","Flat EMA","Doji"], a:0},
 {q:"EMA strategy best for?", o:["Trend","Range","News","Scalp only"], a:0},
 {q:"Risk per trade?", o:["1–2%","10%","50%","All in"], a:0},
 {q:"Break & retest is?", o:["Continuation","Reversal","Fake","Random"], a:0},
 {q:"Liquidity sweep means?", o:["Stops taken","Trend end","Profit","News"], a:0},
 {q:"Best RR?", o:["1:3+","1:1","1:0.5","Random"], a:0},
 {q:"Market structure shift?", o:["Trend change","Consolidation","News","EMA flat"], a:0},
 {q:"JA Trading Concept is?", o:["Structure + Liquidity","Indicators","Gambling","Signals"], a:0}
];

const quizDiv = document.getElementById("quiz");

questions.forEach((q,i)=>{
  let html = `<div class="question">
  <b>${i+1}. ${q.q}</b>`;
  q.o.forEach((opt,j)=>{
    html += `
    <label>
    <input type="radio" name="q${i}" value="${j}"> ${opt}
    </label>`;
  });
  html += `</div>`;
  quizDiv.innerHTML += html;
});

function submitTest(){
  let score=0;
  questions.forEach((q,i)=>{
    const ans=document.querySelector(`input[name="q${i}"]:checked`);
    if(ans && parseInt(ans.value)===q.a) score++;
  });
  const percent=Math.round((score/questions.length)*100);
  document.getElementById("result").innerHTML =
    `Score: ${percent}%`;

  if(percent>=70){
    document.getElementById("downloadBtn").style.display="block";
  }
}

function downloadCert(){
  const name = document.getElementById("name").value || "Trader";
  const c = document.getElementById("cert");
  const ctx = c.getContext("2d");

  // Background
  ctx.fillStyle="#0b1c2d";
  ctx.fillRect(0,0,c.width,c.height);

  // Border
  ctx.strokeStyle="#d4af37";
  ctx.lineWidth=12;
  ctx.strokeRect(20,20,c.width-40,c.height-40);

  // Text
  ctx.textAlign="center";
  ctx.fillStyle="#d4af37";
  ctx.font="52px Georgia";
  ctx.fillText("CERTIFICATE OF", c.width/2, 120);
  ctx.fillText("TECHNICAL ANALYSIS KNOWLEDGE", c.width/2, 180);

  ctx.fillStyle="#ffffff";
  ctx.font="48px cursive";
  ctx.fillText(name, c.width/2, 300);

  ctx.fillStyle="#d4af37";
  ctx.font="30px Georgia";
  ctx.fillText("Certified by JA Traders", c.width/2, 390);
  ctx.fillText("Strategy: JA Trading Concept", c.width/2, 440);
  ctx.fillText("Skill Level: ADVANCED", c.width/2, 490);
  ctx.fillText("Issued: January 2026", c.width/2, 540);

  // ✅ OPEN IMAGE IN NEW TAB (iOS SAFE)
  const img = c.toDataURL("image/png");
  const win = window.open();
  win.document.write(`<img src="${img}" style="width:100%">`);
}
</script>
  
</body>
</html>
