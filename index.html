<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JA Traders | Technical Analysis Certification</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #0a1a3d;
            --secondary: #1a3d7a;
            --accent: #ffd700;
            --accent-dark: #e6c200;
            --light: #f8f9fa;
            --danger: #dc3545;
            --success: #28a745;
            --warning: #ffc107;
            --gray: #6c757d;
            --border-radius: 10px;
            --box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f0f2f5;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 20px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            font-size: 2.5rem;
            color: var(--accent);
        }

        .logo-text h1 {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .logo-text p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            padding: 8px 12px;
            border-radius: var(--border-radius);
            transition: all 0.3s ease;
        }

        nav a:hover, nav a.active {
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--accent);
        }

        .hero {
            background: linear-gradient(rgba(10, 26, 61, 0.9), rgba(10, 26, 61, 0.9)), url('https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            text-align: center;
            padding: 80px 20px;
            border-radius: var(--border-radius);
            margin: 30px 0;
            box-shadow: var(--box-shadow);
        }

        .hero h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--accent);
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 30px;
            opacity: 0.9;
        }

        .btn {
            display: inline-block;
            background-color: var(--accent);
            color: var(--primary);
            padding: 12px 30px;
            border-radius: var(--border-radius);
            font-weight: 700;
            text-decoration: none;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .btn:hover {
            background-color: var(--accent-dark);
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
        }

        .btn-primary {
            background-color: var(--accent);
            color: var(--primary);
        }

        .btn-secondary {
            background-color: transparent;
            color: white;
            border: 2px solid var(--accent);
        }

        .btn-secondary:hover {
            background-color: rgba(255, 215, 0, 0.1);
        }

        .btn-success {
            background-color: var(--success);
            color: white;
        }

        .btn-danger {
            background-color: var(--danger);
            color: white;
        }

        .btn-warning {
            background-color: var(--warning);
            color: var(--primary);
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 0.9rem;
        }

        .section {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
        }

        .section-title {
            color: var(--primary);
            font-size: 1.8rem;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--accent);
            display: inline-block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-control:focus {
            border-color: var(--accent);
            outline: none;
        }

        .test-container {
            display: none;
        }

        .question-container {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .question-number {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            text-align: center;
            line-height: 35px;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .question-text {
            font-size: 1.3rem;
            margin-bottom: 20px;
            font-weight: 600;
            color: var(--primary);
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }

        @media (min-width: 768px) {
            .options-container {
                grid-template-columns: 1fr 1fr;
            }
        }

        .option {
            padding: 15px;
            border: 2px solid #eee;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .option:hover {
            border-color: var(--accent);
            background-color: rgba(255, 215, 0, 0.05);
        }

        .option.selected {
            border-color: var(--accent);
            background-color: rgba(255, 215, 0, 0.1);
            font-weight: 600;
        }

        .certificate-container {
            text-align: center;
        }

        .certificate {
            background: linear-gradient(135deg, #f9f9f9 0%, #ffffff 100%);
            border: 20px solid var(--accent);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
        }

        .certificate::before {
            content: "";
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border: 2px solid var(--primary);
            border-radius: 30px;
            pointer-events: none;
        }

        .certificate-header {
            margin-bottom: 30px;
            position: relative;
        }

        .certificate-header h2 {
            font-size: 2.5rem;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 3px;
            margin-bottom: 10px;
        }

        .certificate-header p {
            font-size: 1.2rem;
            color: var(--secondary);
            letter-spacing: 8px;
        }

        .certificate-body {
            margin: 40px 0;
        }

        .certificate-name {
            font-size: 3rem;
            color: var(--primary);
            margin: 30px 0;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .certificate-text {
            font-size: 1.3rem;
            margin-bottom: 20px;
            line-height: 1.8;
        }

        .certificate-score {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent-dark);
            margin: 20px 0;
        }

        .certificate-footer {
            margin-top: 40px;
            display: flex;
            justify-content: space-between;
            border-top: 2px solid #eee;
            padding-top: 30px;
        }

        .certificate-id {
            font-weight: bold;
            color: var(--primary);
        }

        .result-container {
            text-align: center;
            padding: 40px;
        }

        .result-icon {
            font-size: 5rem;
            margin-bottom: 20px;
        }

        .success .result-icon {
            color: var(--success);
        }

        .fail .result-icon {
            color: var(--danger);
        }

        .result-title {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }

        .success .result-title {
            color: var(--success);
        }

        .fail .result-title {
            color: var(--danger);
        }

        .result-message {
            font-size: 1.2rem;
            margin-bottom: 30px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .about-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        @media (min-width: 992px) {
            .about-content {
                grid-template-columns: 1fr 1fr;
            }
        }

        .about-text {
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .founder-certificate {
            background: linear-gradient(135deg, #0a1a3d 0%, #1a3d7a 100%);
            color: white;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            position: relative;
            overflow: hidden;
        }

        .founder-certificate::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,215,0,0.1) 0%, transparent 70%);
            z-index: 0;
        }

        .founder-certificate h3 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--accent);
            position: relative;
            z-index: 1;
        }

        .achievement {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent);
            margin: 20px 0;
            position: relative;
            z-index: 1;
        }

        .pips-count {
            font-size: 4rem;
            font-weight: 900;
            color: var(--accent);
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            margin: 20px 0;
            position: relative;
            z-index: 1;
        }

        .age-badge {
            display: inline-block;
            background-color: var(--accent);
            color: var(--primary);
            padding: 8px 20px;
            border-radius: 30px;
            font-weight: 700;
            margin-top: 15px;
            position: relative;
            z-index: 1;
        }

        .test-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .progress-bar {
            height: 10px;
            background-color: #eee;
            border-radius: 5px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background-color: var(--accent);
            width: 0%;
            transition: width 0.5s ease;
        }

        footer {
            text-align: center;
            padding: 30px 0;
            margin-top: 50px;
            background-color: var(--primary);
            color: white;
            border-radius: var(--border-radius) var(--border-radius) 0 0;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .footer-links a {
            color: white;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--accent);
        }

        /* Trades Page Styles */
        .trades-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .trades-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 25px;
            border-radius: var(--border-radius);
            text-align: center;
            box-shadow: var(--box-shadow);
        }

        .stat-card h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--accent);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 10px 0;
        }

        .stat-card.success {
            background: linear-gradient(135deg, var(--success) 0%, #20c997 100%);
        }

        .stat-card.danger {
            background: linear-gradient(135deg, var(--danger) 0%, #c92a20 100%);
        }

        .stat-card.warning {
            background: linear-gradient(135deg, var(--warning) 0%, #ffd43b 100%);
        }

        .trades-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
        }

        @media (min-width: 768px) {
            .trades-container {
                grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            }
        }

        .trade-card {
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: transform 0.3s ease;
            position: relative;
        }

        .trade-card:hover {
            transform: translateY(-5px);
        }

        .trade-card.win {
            border-left: 5px solid var(--success);
        }

        .trade-card.loss {
            border-left: 5px solid var(--danger);
        }

        .trade-card.open {
            border-left: 5px solid var(--warning);
        }

        .trade-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .trade-details {
            padding: 20px;
        }

        .trade-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .trade-pair {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
        }

        .trade-status {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .status-win {
            background-color: rgba(40, 167, 69, 0.1);
            color: var(--success);
        }

        .status-loss {
            background-color: rgba(220, 53, 69, 0.1);
            color: var(--danger);
        }

        .status-open {
            background-color: rgba(255, 193, 7, 0.1);
            color: #856404;
        }

        .trade-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .info-item {
            display: flex;
            flex-direction: column;
        }

        .info-label {
            font-size: 0.9rem;
            color: var(--gray);
            margin-bottom: 5px;
        }

        .info-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary);
        }

        .rr-ratio {
            text-align: center;
            padding: 10px;
            background-color: var(--light);
            border-radius: var(--border-radius);
            margin-top: 10px;
        }

        .rr-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        /* Admin Panel Styles */
        .admin-panel {
            background-color: #f8f9fa;
            border: 2px dashed #ddd;
            border-radius: var(--border-radius);
            padding: 30px;
            margin-bottom: 40px;
        }

        .admin-title {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .trade-form-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            border: 2px solid #ddd;
        }

        .password-prompt {
            text-align: center;
            padding: 30px;
            background-color: var(--light);
            border-radius: var(--border-radius);
            margin-bottom: 30px;
        }

        .trade-actions {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 5px;
            z-index: 10;
        }

        .trade-actions button {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            cursor: pointer;
            color: white;
            font-size: 0.8rem;
        }

        .update-trade-btn {
            background-color: var(--warning);
        }

        .delete-trade-btn {
            background-color: var(--danger);
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .hero h2 {
                font-size: 2rem;
            }
            
            .certificate-name {
                font-size: 2.2rem;
            }
            
            .pips-count {
                font-size: 3rem;
            }
            
            .trades-header {
                flex-direction: column;
                align-items: flex-start;
            }
        }

        .hidden {
            display: none !important;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 15px;
        }

        .stat-box {
            background-color: var(--light);
            padding: 15px;
            border-radius: var(--border-radius);
            text-align: center;
            min-width: 150px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--gray);
            margin-top: 5px;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 30px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: var(--box-shadow);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.5rem;
            color: var(--primary);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="logo-text">
                    <h1>JA TRADERS</h1>
                    <p>Technical Analysis Certification</p>
                </div>
            </div>
            <nav>
                <ul>
                    <li><a href="#" class="active" id="nav-home">Home</a></li>
                    <li><a href="#" id="nav-test">Take Test</a></li>
                    <li><a href="#" id="nav-trades">Trades</a></li>
                    <li><a href="#" id="nav-about">About Us</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container">
        <!-- Home Section -->
        <section id="home-section" class="section">
            <div class="hero">
                <h2>Become a Certified Technical Analyst</h2>
                <p>Test your knowledge with our Forex Technical Analysis exam. Score 70% or higher to earn your professional certification and join the ranks of successful traders.</p>
                <button class="btn btn-primary" id="start-test-btn">Start Certification Test</button>
            </div>
            
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-value">15</div>
                    <div class="stat-label">Questions</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">70%</div>
                    <div class="stat-label">Passing Score</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">100%</div>
                    <div class="stat-label">Professional Certificate</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">4,665</div>
                    <div class="stat-label">Pips World Record</div>
                </div>
            </div>
        </section>

        <!-- Registration Form -->
        <section id="registration-section" class="section hidden">
            <h2 class="section-title">Enter Your Details</h2>
            <p>Please provide your name to appear on the certificate.</p>
            <form id="registration-form">
                <div class="form-group">
                    <label for="full-name">Full Name</label>
                    <input type="text" id="full-name" class="form-control" placeholder="Enter your full name" required>
                </div>
                <button type="submit" class="btn btn-primary">Start Test</button>
            </form>
        </section>

        <!-- Test Section -->
        <section id="test-section" class="section hidden">
            <h2 class="section-title">Technical Analysis Certification Test</h2>
            <p>Answer all 15 questions. You need at least 70% to pass and earn your certificate.</p>
            
            <div class="progress-bar">
                <div class="progress" id="test-progress"></div>
            </div>
            
            <div id="test-container">
                <!-- Questions will be loaded here by JavaScript -->
            </div>
            
            <div class="test-controls">
                <button class="btn btn-secondary" id="prev-question">Previous Question</button>
                <div>
                    <span id="question-counter">Question 1 of 15</span>
                </div>
                <button class="btn btn-primary" id="next-question">Next Question</button>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-primary" id="submit-test" style="padding: 15px 40px; font-size: 1.2rem;">Submit Test</button>
            </div>
        </section>

        <!-- Result Section -->
        <section id="result-section" class="section hidden">
            <div id="result-container">
                <!-- Result will be loaded here by JavaScript -->
            </div>
        </section>

        <!-- Certificate Section -->
        <section id="certificate-section" class="section">
            <div id="certificate-container">
                <!-- Certificate will be loaded here by JavaScript -->
            </div>
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-primary" id="download-certificate">
                    <i class="fas fa-download"></i> Download Certificate
                </button>
                <button class="btn btn-secondary" id="retake-test" style="margin-left: 15px;">
                    <i class="fas fa-redo"></i> Retake Test
                </button>
                <button class="btn btn-warning" id="back-to-home" style="margin-left: 15px;">
                    <i class="fas fa-home"></i> Back to Home
                </button>
            </div>
        </section>

        <!-- Trades Section -->
        <section id="trades-section" class="section hidden">
            <div class="trades-header">
                <h2 class="section-title">Trading Signals & Analysis</h2>
                <div>
                    <button class="btn btn-warning" id="toggle-admin">
                        <i class="fas fa-user-shield"></i> Admin Mode
                    </button>
                </div>
            </div>

            <!-- Password Prompt -->
            <div id="password-prompt" class="password-prompt hidden">
                <h3>Enter Admin Password</h3>
                <p>Please enter the admin password to access the admin panel.</p>
                <div class="form-group" style="max-width: 300px; margin: 20px auto;">
                    <input type="password" id="admin-password" class="form-control" placeholder="Enter password">
                </div>
                <button class="btn btn-primary" id="submit-password">Submit</button>
                <button class="btn btn-secondary" id="cancel-password" style="margin-left: 10px;">Cancel</button>
                <p style="margin-top: 15px; font-size: 0.9rem; color: var(--gray);">
                    <strong>Default Password:</strong> JATraders2026
                </p>
            </div>

            <!-- Admin Panel (Hidden by default) -->
            <div id="admin-panel" class="admin-panel hidden">
                <h3 class="admin-title"><i class="fas fa-user-shield"></i> Admin Panel - Add/Edit Trades</h3>
                <form id="trade-form">
                    <input type="hidden" id="edit-trade-id">
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="trade-pair">Currency Pair</label>
                            <select id="trade-pair" class="form-control" required>
                                <option value="">Select Pair</option>
                                <option value="XAU/USD">XAU/USD (Gold)</option>
                                <option value="EUR/USD">EUR/USD</option>
                                <option value="GBP/USD">GBP/USD</option>
                                <option value="USD/JPY">USD/JPY</option>
                                <option value="BTC/USD">BTC/USD</option>
                                <option value="ETH/USD">ETH/USD</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="trade-direction">Direction</label>
                            <select id="trade-direction" class="form-control" required>
                                <option value="">Select Direction</option>
                                <option value="BUY">BUY</option>
                                <option value="SELL">SELL</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="entry-price">Entry Price</label>
                            <input type="number" step="0.0001" id="entry-price" class="form-control" placeholder="e.g., 1950.50" required>
                        </div>
                        <div class="form-group">
                            <label for="stop-loss">Stop Loss (SL)</label>
                            <input type="number" step="0.0001" id="stop-loss" class="form-control" placeholder="e.g., 1940.00" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="take-profit">Take Profit (TP)</label>
                            <input type="number" step="0.0001" id="take-profit" class="form-control" placeholder="e.g., 1965.00" required>
                        </div>
                        <div class="form-group">
                            <label for="risk-reward">Risk/Reward Ratio</label>
                            <input type="number" step="0.01" id="risk-reward" class="form-control" placeholder="e.g., 1.5" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="trade-image">Chart Image URL</label>
                        <input type="url" id="trade-image" class="form-control" placeholder="https://example.com/chart-image.png" value="https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80">
                        <small>Use a direct link to a chart image</small>
                    </div>
                    
                    <div class="form-group">
                        <img id="trade-form-image-preview" class="trade-form-image" src="https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80" alt="Chart Preview">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="trade-status">Status</label>
                            <select id="trade-status" class="form-control" required>
                                <option value="open">Open Trade</option>
                                <option value="win">Won Trade (TP Hit)</option>
                                <option value="loss">Lost Trade (SL Hit)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="trade-date">Date</label>
                            <input type="date" id="trade-date" class="form-control" required>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-success" id="submit-trade-btn">
                        <i class="fas fa-plus"></i> Add Trade Signal
                    </button>
                    <button type="button" class="btn btn-secondary" id="cancel-add-trade">
                        Cancel
                    </button>
                    <button type="button" class="btn btn-danger" id="clear-form" style="margin-left: 10px;">
                        <i class="fas fa-times"></i> Clear Form
                    </button>
                </form>
            </div>

            <!-- Trades Statistics -->
            <div class="trades-stats">
                <div class="stat-card">
                    <h3>Total Trades</h3>
                    <div class="stat-value" id="total-trades">0</div>
                    <p>All trading signals shared</p>
                </div>
                <div class="stat-card success">
                    <h3>Winning Trades</h3>
                    <div class="stat-value" id="win-trades">0</div>
                    <p>Target achieved (TP Hit)</p>
                </div>
                <div class="stat-card danger">
                    <h3>Losing Trades</h3>
                    <div class="stat-value" id="loss-trades">0</div>
                    <p>Stop loss hit</p>
                </div>
                <div class="stat-card warning">
                    <h3>Open Trades</h3>
                    <div class="stat-value" id="open-trades">0</div>
                    <p>Currently active</p>
                </div>
            </div>

            <!-- Trades List -->
            <h3 style="margin-bottom: 20px; color: var(--primary);">Recent Trading Signals</h3>
            <div class="trades-container" id="trades-list">
                <!-- Trades will be loaded here by JavaScript -->
            </div>
        </section>

        <!-- About Section -->
        <section id="about-section" class="section hidden">
            <h2 class="section-title">About JA Traders</h2>
            <div class="about-content">
                <div class="about-text">
                    <p>JA Traders is a premier trading education company founded by Ahmed Hasan Ali, a prodigy in the world of Forex trading. Our mission is to empower traders with technical analysis knowledge and practical trading strategies.</p>
                    
                    <p>We specialize in teaching the <strong>JA Trading Concept</strong>, a proprietary methodology developed through years of market experience. Our approach combines market structure, support/resistance, and disciplined risk management to identify good trading setups.</p>
                    
                    <p>Our certification program is designed to test and validate your technical analysis skills. Successful candidates show good understanding in key areas including Market Structure, Support & Resistance, Trend Analysis, and Risk Management.</p>
                    
                    <p>Join the ranks of successful traders who have learned technical analysis with JA Traders.</p>
                </div>
                
                <div class="founder-certificate">
                    <h3>WORLD RECORD ACHIEVEMENT</h3>
                    <div class="achievement">AHMED HASAN ALI</div>
                    <div class="pips-count">4,665 PIPS</div>
                    <p>Captured in a single day trading XAU/USD (Gold)</p>
                    
                    <div class="age-badge">AT JUST 16 YEARS OLD</div>
                    
                    <p style="margin-top: 20px;">Utilizing the <strong>JA TRADING CONCEPT</strong></p>
                    
                    <div style="margin-top: 25px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.2);">
                        <p><strong>Grade:</strong> ELITE - PROP FIRM STANDARD</p>
                        <p><small>This certificate recognizes a personal milestone and is not an officially recognized world record.</small></p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="#" id="footer-home">Home</a>
                <a href="#" id="footer-test">Certification Test</a>
                <a href="#" id="footer-trades">Trades</a>
                <a href="#" id="footer-about">About Us</a>
            </div>
            <p>&copy; 2026 JA Traders. All rights reserved. | Technical Analysis Certification System</p>
            <p>This is a demonstration project for educational purposes.</p>
        </div>
    </footer>

    <!-- Update Trade Modal -->
    <div id="update-modal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Update Trade Status</h3>
                <button class="close-modal" id="close-update-modal">&times;</button>
            </div>
            <p>Select the new status for this trade:</p>
            <div style="display: flex; gap: 10px; margin: 20px 0;">
                <button class="btn btn-success" id="mark-as-win">
                    <i class="fas fa-check"></i> Mark as TP Hit (Win)
                </button>
                <button class="btn btn-danger" id="mark-as-loss">
                    <i class="fas fa-times"></i> Mark as SL Hit (Loss)
                </button>
                <button class="btn btn-secondary" id="mark-as-open">
                    <i class="fas fa-sync"></i> Mark as Open
                </button>
            </div>
            <div style="text-align: right;">
                <button class="btn btn-secondary" id="cancel-update">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        // Questions Data - Medium level with easy English
        const questions = [
            {
                question: "What does a support level represent in trading?",
                options: [
                    "A price level where selling pressure is strong",
                    "A price level where buying pressure is strong",
                    "A price level where the market closes",
                    "A price level where trading volume is low"
                ],
                correct: 1
            },
            {
                question: "Which moving average is commonly used to identify the general trend?",
                options: [
                    "5-period moving average",
                    "20-period moving average",
                    "50-period moving average",
                    "200-period moving average"
                ],
                correct: 3
            },
            {
                question: "What is the purpose of a stop-loss order?",
                options: [
                    "To lock in profits automatically",
                    "To enter a trade at a specific price",
                    "To limit potential losses on a trade",
                    "To increase position size"
                ],
                correct: 2
            },
            {
                question: "When price makes higher highs and higher lows, what type of trend is this?",
                options: [
                    "Uptrend",
                    "Downtrend",
                    "Sideways trend",
                    "Reversal trend"
                ],
                correct: 0
            },
            {
                question: "What does RSI (Relative Strength Index) measure?",
                options: [
                    "Trade volume",
                    "Price momentum and speed",
                    "Market volatility",
                    "Support and resistance levels"
                ],
                correct: 1
            },
            {
                question: "Which candle pattern often indicates a potential trend reversal?",
                options: [
                    "Doji candle",
                    "Marubozu candle",
                    "Spinning top",
                    "All of the above"
                ],
                correct: 3
            },
            {
                question: "What is the golden ratio commonly used in Fibonacci retracement?",
                options: [
                    "38.2%",
                    "50%",
                    "61.8%",
                    "78.6%"
                ],
                correct: 2
            },
            {
                question: "Which time frame is best for identifying long-term trends?",
                options: [
                    "1-minute chart",
                    "15-minute chart",
                    "4-hour chart",
                    "Daily chart"
                ],
                correct: 3
            },
            {
                question: "What does a breakout above resistance usually indicate?",
                options: [
                    "Trend continuation downward",
                    "Potential trend reversal upward",
                    "Market consolidation",
                    "Decreasing volatility"
                ],
                correct: 1
            },
            {
                question: "How much of your trading capital should you risk on a single trade?",
                options: [
                    "10%",
                    "5%",
                    "2%",
                    "1%"
                ],
                correct: 3
            },
            {
                question: "What is a 'doji' candle pattern?",
                options: [
                    "A candle with a long body and small wicks",
                    "A candle where open and close are very close",
                    "A candle with no wicks",
                    "A candle that gaps up from previous close"
                ],
                correct: 1
            },
            {
                question: "Which indicator shows the difference between two moving averages?",
                options: [
                    "RSI",
                    "MACD",
                    "Bollinger Bands",
                    "Stochastic"
                ],
                correct: 1
            },
            {
                question: "What does 'risk-reward ratio' mean in trading?",
                options: [
                    "The amount you risk vs the amount you expect to gain",
                    "The total profit from all trades",
                    "The number of winning trades vs losing trades",
                    "The maximum drawdown of your account"
                ],
                correct: 0
            },
            {
                question: "When is the best time to trade Forex?",
                options: [
                    "When two major market sessions overlap",
                    "Early morning in your local time",
                    "Late at night",
                    "Weekends when markets are closed"
                ],
                correct: 0
            },
            {
                question: "What should you do if your trade hits stop loss?",
                options: [
                    "Immediately open the same trade again",
                    "Increase your position size",
                    "Accept the loss and move to next opportunity",
                    "Remove stop loss on next trade"
                ],
                correct: 2
            }
        ];

        // Trades Data
        let trades = [
            {
                id: 1,
                pair: "XAU/USD",
                direction: "BUY",
                entry: 1950.50,
                stopLoss: 1940.00,
                takeProfit: 1965.00,
                riskReward: 1.5,
                status: "win",
                date: "2026-01-15",
                image: "https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80"
            },
            {
                id: 2,
                pair: "EUR/USD",
                direction: "SELL",
                entry: 1.0950,
                stopLoss: 1.1020,
                takeProfit: 1.0850,
                riskReward: 1.0,
                status: "loss",
                date: "2026-01-10",
                image: "https://images.unsplash.com/photo-1613243555978-636c002f6f54?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80"
            },
            {
                id: 3,
                pair: "GBP/USD",
                direction: "BUY",
                entry: 1.2750,
                stopLoss: 1.2700,
                takeProfit: 1.2850,
                riskReward: 2.0,
                status: "open",
                date: "2026-01-20",
                image: "https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80"
            },
            {
                id: 4,
                pair: "BTC/USD",
                direction: "BUY",
                entry: 42000,
                stopLoss: 41000,
                takeProfit: 44000,
                riskReward: 2.0,
                status: "win",
                date: "2026-01-05",
                image: "https://images.unsplash.com/photo-1516245834210-8f0b8c0f4b8c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80"
            }
        ];

        // App State
        let currentQuestion = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let userName = "";
        let testScore = 0;
        let isAdminMode = false;
        let currentEditTradeId = null;
        
        // Admin Password (Default: JATraders2026)
        const ADMIN_PASSWORD = "JATraders2026";
        
        // DOM Elements
        const homeSection = document.getElementById('home-section');
        const registrationSection = document.getElementById('registration-section');
        const testSection = document.getElementById('test-section');
        const resultSection = document.getElementById('result-section');
        const certificateSection = document.getElementById('certificate-section');
        const tradesSection = document.getElementById('trades-section');
        const aboutSection = document.getElementById('about-section');
        
        const navHome = document.getElementById('nav-home');
        const navTest = document.getElementById('nav-test');
        const navTrades = document.getElementById('nav-trades');
        const navAbout = document.getElementById('nav-about');
        
        const footerHome = document.getElementById('footer-home');
        const footerTest = document.getElementById('footer-test');
        const footerTrades = document.getElementById('footer-trades');
        const footerAbout = document.getElementById('footer-about');
        
        const startTestBtn = document.getElementById('start-test-btn');
        const registrationForm = document.getElementById('registration-form');
        const fullNameInput = document.getElementById('full-name');
        
        const testContainer = document.getElementById('test-container');
        const prevQuestionBtn = document.getElementById('prev-question');
        const nextQuestionBtn = document.getElementById('next-question');
        const submitTestBtn = document.getElementById('submit-test');
        const questionCounter = document.getElementById('question-counter');
        const testProgress = document.getElementById('test-progress');
        
        const resultContainer = document.getElementById('result-container');
        const certificateContainer = document.getElementById('certificate-container');
        const downloadCertificateBtn = document.getElementById('download-certificate');
        const retakeTestBtn = document.getElementById('retake-test');
        const backToHomeBtn = document.getElementById('back-to-home');
        
        // Trades Section Elements
        const toggleAdminBtn = document.getElementById('toggle-admin');
        const passwordPrompt = document.getElementById('password-prompt');
        const adminPanel = document.getElementById('admin-panel');
        const tradeForm = document.getElementById('trade-form');
        const tradesList = document.getElementById('trades-list');
        const totalTradesEl = document.getElementById('total-trades');
        const winTradesEl = document.getElementById('win-trades');
        const lossTradesEl = document.getElementById('loss-trades');
        const openTradesEl = document.getElementById('open-trades');
        const tradeImageInput = document.getElementById('trade-image');
        const tradeFormImagePreview = document.getElementById('trade-form-image-preview');
        const cancelAddTradeBtn = document.getElementById('cancel-add-trade');
        const clearFormBtn = document.getElementById('clear-form');
        const adminPasswordInput = document.getElementById('admin-password');
        const submitPasswordBtn = document.getElementById('submit-password');
        const cancelPasswordBtn = document.getElementById('cancel-password');
        const submitTradeBtn = document.getElementById('submit-trade-btn');
        
        // Modal Elements
        const updateModal = document.getElementById('update-modal');
        const closeUpdateModalBtn = document.getElementById('close-update-modal');
        const markAsWinBtn = document.getElementById('mark-as-win');
        const markAsLossBtn = document.getElementById('mark-as-loss');
        const markAsOpenBtn = document.getElementById('mark-as-open');
        const cancelUpdateBtn = document.getElementById('cancel-update');
        
        // Navigation Functions
        function showSection(sectionToShow) {
            // Hide all sections
            [homeSection, registrationSection, testSection, resultSection, certificateSection, tradesSection, aboutSection]
                .forEach(section => section.classList.add('hidden'));
            
            // Show the requested section
            sectionToShow.classList.remove('hidden');
            
            // Update active nav
            document.querySelectorAll('nav a').forEach(link => link.classList.remove('active'));
            
            if (sectionToShow === homeSection) {
                navHome.classList.add('active');
            } else if (sectionToShow === testSection || sectionToShow === registrationSection) {
                navTest.classList.add('active');
            } else if (sectionToShow === tradesSection) {
                navTrades.classList.add('active');
                updateTradesDisplay();
            } else if (sectionToShow === aboutSection) {
                navAbout.classList.add('active');
            }
        }
        
        // Event Listeners for Navigation
        navHome.addEventListener('click', (e) => {
            e.preventDefault();
            showSection(homeSection);
        });
        
        navTest.addEventListener('click', (e) => {
            e.preventDefault();
            showSection(registrationSection);
        });
        
        navTrades.addEventListener('click', (e) => {
            e.preventDefault();
            showSection(tradesSection);
        });
        
        navAbout.addEventListener('click', (e) => {
            e.preventDefault();
            showSection(aboutSection);
        });
        
        footerHome.addEventListener('click', (e) => {
            e.preventDefault();
            showSection(homeSection);
        });
        
        footerTest.addEventListener('click', (e) => {
            e.preventDefault();
            showSection(registrationSection);
        });
        
        footerTrades.addEventListener('click', (e) => {
            e.preventDefault();
            showSection(tradesSection);
        });
        
        footerAbout.addEventListener('click', (e) => {
            e.preventDefault();
            showSection(aboutSection);
        });
        
        // Start Test Button
        startTestBtn.addEventListener('click', () => {
            showSection(registrationSection);
        });
        
        // Registration Form
        registrationForm.addEventListener('submit', (e) => {
            e.preventDefault();
            userName = fullNameInput.value.trim();
            
            if (userName) {
                // Reset test state
                currentQuestion = 0;
                userAnswers.fill(null);
                
                // Show test section
                showSection(testSection);
                loadQuestion(currentQuestion);
                updateProgress();
            } else {
                alert("Please enter your name to continue.");
            }
        });
        
        // Load Question
        function loadQuestion(index) {
            const question = questions[index];
            
            let optionsHtml = '';
            question.options.forEach((option, optionIndex) => {
                const isSelected = userAnswers[index] === optionIndex;
                optionsHtml += `
                    <div class="option ${isSelected ? 'selected' : ''}" data-index="${optionIndex}">
                        ${option}
                    </div>
                `;
            });
            
            testContainer.innerHTML = `
                <div class="question-container">
                    <div class="question-number">${index + 1}</div>
                    <div class="question-text">${question.question}</div>
                    <div class="options-container">
                        ${optionsHtml}
                    </div>
                </div>
            `;
            
            // Update question counter
            questionCounter.textContent = `Question ${index + 1} of ${questions.length}`;
            
            // Update button states
            prevQuestionBtn.disabled = index === 0;
            nextQuestionBtn.disabled = index === questions.length - 1;
            
            // Add event listeners to options
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', () => {
                    const selectedIndex = parseInt(option.dataset.index);
                    userAnswers[index] = selectedIndex;
                    
                    // Update UI
                    document.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    option.classList.add('selected');
                });
            });
        }
        
        // Update Progress Bar
        function updateProgress() {
            const progressPercentage = ((currentQuestion + 1) / questions.length) * 100;
            testProgress.style.width = `${progressPercentage}%`;
        }
        
        // Previous Question
        prevQuestionBtn.addEventListener('click', () => {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion(currentQuestion);
                updateProgress();
            }
        });
        
        // Next Question
        nextQuestionBtn.addEventListener('click', () => {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion(currentQuestion);
                updateProgress();
            }
        });
        
        // Submit Test - FIXED
        submitTestBtn.addEventListener('click', () => {
            // Check if all questions are answered
            const unanswered = userAnswers.filter(answer => answer === null).length;
            
            if (unanswered > 0) {
                if (confirm(`You have ${unanswered} unanswered questions. Submit anyway?`)) {
                    calculateScore();
                }
            } else {
                calculateScore();
            }
        });
        
        // Calculate Score
        function calculateScore() {
            let correctAnswers = 0;
            
            userAnswers.forEach((answer, index) => {
                if (answer === questions[index].correct) {
                    correctAnswers++;
                }
            });
            
            testScore = Math.round((correctAnswers / questions.length) * 100);
            showResult(testScore);
        }
        
        // Show Result - FIXED
        function showResult(score) {
            const passed = score >= 70;
            
            let resultHtml = '';
            
            if (passed) {
                resultHtml = `
                    <div class="result-container success">
                        <div class="result-icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <h2 class="result-title">Congratulations!</h2>
                        <div class="certificate-score">Your Score: ${score}%</div>
                        <p class="result-message">
                            You have passed the Technical Analysis Certification test! 
                            Your knowledge of technical analysis has been validated.
                        </p>
                        <p class="result-message">
                            You are now eligible to receive your professional certificate.
                        </p>
                        <button class="btn btn-primary" id="view-certificate-btn" style="margin-top: 20px;">
                            View Your Certificate
                        </button>
                    </div>
                `;
            } else {
                resultHtml = `
                    <div class="result-container fail">
                        <div class="result-icon">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <h2 class="result-title">Keep Learning</h2>
                        <div class="certificate-score">Your Score: ${score}%</div>
                        <p class="result-message">
                            You scored ${score}%, which is below the 70% passing threshold. 
                            Don't be discouraged - technical analysis requires continuous learning.
                        </p>
                        <p class="result-message">
                            <strong>Better luck next time!</strong> We recommend reviewing the JA Trading Concept 
                            materials and practicing on demo accounts before trying the test again.
                        </p>
                        <button class="btn btn-primary" id="retake-from-result" style="margin-top: 20px;">
                            Retake Test
                        </button>
                    </div>
                `;
            }
            
            resultContainer.innerHTML = resultHtml;
            showSection(resultSection);
            
            // Add event listeners for buttons in result
            if (passed) {
                const viewCertificateBtn = document.getElementById('view-certificate-btn');
                if (viewCertificateBtn) {
                    viewCertificateBtn.addEventListener('click', () => {
                        showCertificate();
                    });
                }
            } else {
                const retakeFromResultBtn = document.getElementById('retake-from-result');
                if (retakeFromResultBtn) {
                    retakeFromResultBtn.addEventListener('click', () => {
                        showSection(registrationSection);
                    });
                }
            }
        }
        
        // Show Certificate - FIXED
        function showCertificate() {
            const certificateId = `TA-${Math.floor(100000 + Math.random() * 900000)}`;
            const currentDate = new Date();
            const issueDate = currentDate.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long' 
            });
            
            let skillLevel = "Intermediate";
            if (testScore >= 90) skillLevel = "Expert";
            else if (testScore >= 80) skillLevel = "Advanced";
            else if (testScore >= 70) skillLevel = "Competent";
            
            const certificateHtml = `
                <div class="certificate">
                    <div class="certificate-header">
                        <h2>CERTIFICATE OF</h2>
                        <p>TECHNICAL ANALYSIS KNOWLEDGE</p>
                    </div>
                    
                    <div class="certificate-body">
                        <p class="certificate-text">THIS IS TO CERTIFY THAT</p>
                        <div class="certificate-name">${userName}</div>
                        <p class="certificate-text">HAS DEMONSTRATED ${skillLevel.toUpperCase()} EXPERTISE IN</p>
                        <h3 style="color: var(--primary); margin: 30px 0; font-size: 1.8rem;">FOREX TECHNICAL ANALYSIS</h3>
                        
                        <div style="display: flex; justify-content: space-around; flex-wrap: wrap; margin: 40px 0; gap: 15px;">
                            <div style="text-align: center;">
                                <div style="font-weight: bold; color: var(--primary);">Market Structure</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-weight: bold; color: var(--primary);">Support & Resistance</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-weight: bold; color: var(--primary);">Trend Analysis</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-weight: bold; color: var(--primary);">Risk Management</div>
                            </div>
                        </div>
                        
                        <div class="certificate-score">ASSESSMENT SCORE: ${testScore}%</div>
                        <div style="font-size: 1.5rem; font-weight: bold; color: var(--primary); margin: 20px 0;">
                            SKILL LEVEL: ${skillLevel.toUpperCase()}
                        </div>
                    </div>
                    
                    <div class="certificate-footer">
                        <div>
                            <div style="font-weight: bold;">Certificate ID: ${certificateId}</div>
                            <div>Issued: ${issueDate}</div>
                        </div>
                        <div>
                            <div style="font-weight: bold;">Assessor: JA Skill Evaluation</div>
                            <div>JA Traders Certification Authority</div>
                        </div>
                    </div>
                </div>
            `;
            
            certificateContainer.innerHTML = certificateHtml;
            showSection(certificateSection);
        }
        
        // Download Certificate
        downloadCertificateBtn.addEventListener('click', () => {
            alert("Certificate download functionality would be implemented here in a production environment.");
            // In a real app, you would use a library like html2canvas to capture the certificate as an image
            // Then offer it as a download
        });
        
        // Retake Test
        retakeTestBtn.addEventListener('click', () => {
            showSection(registrationSection);
        });
        
        // Back to Home from Certificate
        backToHomeBtn.addEventListener('click', () => {
            showSection(homeSection);
        });
        
        // Trades Section Functions
        function updateTradesDisplay() {
            // Calculate statistics
            const totalTrades = trades.length;
            const winTrades = trades.filter(trade => trade.status === 'win').length;
            const lossTrades = trades.filter(trade => trade.status === 'loss').length;
            const openTrades = trades.filter(trade => trade.status === 'open').length;
            
            // Update statistics display
            totalTradesEl.textContent = totalTrades;
            winTradesEl.textContent = winTrades;
            lossTradesEl.textContent = lossTrades;
            openTradesEl.textContent = openTrades;
            
            // Generate trades list
            let tradesHtml = '';
            
            // Sort trades by date (newest first)
            const sortedTrades = [...trades].sort((a, b) => new Date(b.date) - new Date(a.date));
            
            sortedTrades.forEach(trade => {
                const statusClass = trade.status === 'win' ? 'win' : trade.status === 'loss' ? 'loss' : 'open';
                const statusText = trade.status === 'win' ? 'TP HIT' : trade.status === 'loss' ? 'SL HIT' : 'OPEN';
                const statusLabelClass = trade.status === 'win' ? 'status-win' : trade.status === 'loss' ? 'status-loss' : 'status-open';
                
                tradesHtml += `
                    <div class="trade-card ${statusClass}">
                        ${isAdminMode ? `
                        <div class="trade-actions">
                            <button class="update-trade-btn" data-id="${trade.id}">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="delete-trade-btn" data-id="${trade.id}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                        ` : ''}
                        
                        <img src="${trade.image}" alt="${trade.pair} Chart" class="trade-image">
                        <div class="trade-details">
                            <div class="trade-header">
                                <div class="trade-pair">${trade.pair}</div>
                                <div class="trade-status ${statusLabelClass}">${statusText}</div>
                            </div>
                            
                            <div class="trade-info">
                                <div class="info-item">
                                    <span class="info-label">Direction</span>
                                    <span class="info-value" style="color: ${trade.direction === 'BUY' ? 'green' : 'red'}; font-weight: bold;">
                                        ${trade.direction}
                                    </span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Entry Price</span>
                                    <span class="info-value">${trade.entry}</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Stop Loss (SL)</span>
                                    <span class="info-value">${trade.stopLoss}</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Take Profit (TP)</span>
                                    <span class="info-value">${trade.takeProfit}</span>
                                </div>
                            </div>
                            
                            <div class="rr-ratio">
                                <div class="info-label">Risk/Reward Ratio</div>
                                <div class="rr-value">1:${trade.riskReward}</div>
                            </div>
                            
                            <div style="margin-top: 15px; font-size: 0.9rem; color: var(--gray);">
                                <i class="far fa-calendar"></i> ${new Date(trade.date).toLocaleDateString('en-US', { 
                                    year: 'numeric', 
                                    month: 'short', 
                                    day: 'numeric' 
                                })}
                            </div>
                        </div>
                    </div>
                `;
            });
            
            tradesList.innerHTML = tradesHtml;
            
            // Add event listeners for admin actions
            if (isAdminMode) {
                document.querySelectorAll('.update-trade-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const tradeId = parseInt(btn.dataset.id);
                        openUpdateModal(tradeId);
                    });
                });
                
                document.querySelectorAll('.delete-trade-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const tradeId = parseInt(btn.dataset.id);
                        if (confirm("Are you sure you want to delete this trade?")) {
                            deleteTrade(tradeId);
                        }
                    });
                });
            }
        }
        
        // Open Update Modal
        function openUpdateModal(tradeId) {
            currentEditTradeId = tradeId;
            updateModal.classList.remove('hidden');
        }
        
        // Close Update Modal
        function closeUpdateModal() {
            updateModal.classList.add('hidden');
            currentEditTradeId = null;
        }
        
        // Update Trade Status
        function updateTradeStatus(newStatus) {
            if (currentEditTradeId === null) return;
            
            const tradeIndex = trades.findIndex(trade => trade.id === currentEditTradeId);
            if (tradeIndex !== -1) {
                trades[tradeIndex].status = newStatus;
                updateTradesDisplay();
                closeUpdateModal();
            }
        }
        
        // Delete Trade
        function deleteTrade(tradeId) {
            trades = trades.filter(trade => trade.id !== tradeId);
            updateTradesDisplay();
        }
        
        // Toggle Admin Mode
        toggleAdminBtn.addEventListener('click', () => {
            if (!isAdminMode) {
                // Show password prompt
                passwordPrompt.classList.remove('hidden');
                adminPasswordInput.focus();
            } else {
                // Exit admin mode
                isAdminMode = false;
                adminPanel.classList.add('hidden');
                toggleAdminBtn.innerHTML = '<i class="fas fa-user-shield"></i> Admin Mode';
                toggleAdminBtn.classList.remove('btn-primary');
                toggleAdminBtn.classList.add('btn-warning');
                // Reset form
                tradeForm.reset();
                document.getElementById('edit-trade-id').value = '';
                submitTradeBtn.innerHTML = '<i class="fas fa-plus"></i> Add Trade Signal';
                tradeFormImagePreview.src = "https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80";
                updateTradesDisplay();
            }
        });
        
        // Submit Password
        submitPasswordBtn.addEventListener('click', () => {
            const enteredPassword = adminPasswordInput.value;
            
            if (enteredPassword === ADMIN_PASSWORD) {
                isAdminMode = true;
                passwordPrompt.classList.add('hidden');
                adminPanel.classList.remove('hidden');
                toggleAdminBtn.innerHTML = '<i class="fas fa-user"></i> User Mode';
                toggleAdminBtn.classList.remove('btn-warning');
                toggleAdminBtn.classList.add('btn-primary');
                adminPasswordInput.value = '';
                updateTradesDisplay();
            } else {
                alert("Incorrect password. Please try again.");
                adminPasswordInput.value = '';
                adminPasswordInput.focus();
            }
        });
        
        // Cancel Password
        cancelPasswordBtn.addEventListener('click', () => {
            passwordPrompt.classList.add('hidden');
            adminPasswordInput.value = '';
        });
        
        // Preview trade image when URL changes
        tradeImageInput.addEventListener('input', () => {
            if (tradeImageInput.value) {
                tradeFormImagePreview.src = tradeImageInput.value;
            }
        });
        
        // Add or Update Trade
        tradeForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const editTradeId = document.getElementById('edit-trade-id').value;
            
            const tradeData = {
                id: editTradeId ? parseInt(editTradeId) : trades.length + 1,
                pair: document.getElementById('trade-pair').value,
                direction: document.getElementById('trade-direction').value,
                entry: parseFloat(document.getElementById('entry-price').value),
                stopLoss: parseFloat(document.getElementById('stop-loss').value),
                takeProfit: parseFloat(document.getElementById('take-profit').value),
                riskReward: parseFloat(document.getElementById('risk-reward').value),
                status: document.getElementById('trade-status').value,
                date: document.getElementById('trade-date').value || new Date().toISOString().split('T')[0],
                image: document.getElementById('trade-image').value || "https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80"
            };
            
            if (editTradeId) {
                // Update existing trade
                const tradeIndex = trades.findIndex(trade => trade.id === parseInt(editTradeId));
                if (tradeIndex !== -1) {
                    trades[tradeIndex] = tradeData;
                }
            } else {
                // Add new trade
                trades.unshift(tradeData);
            }
            
            updateTradesDisplay();
            
            // Reset form
            tradeForm.reset();
            document.getElementById('edit-trade-id').value = '';
            submitTradeBtn.innerHTML = '<i class="fas fa-plus"></i> Add Trade Signal';
            tradeFormImagePreview.src = "https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80";
            
            alert(editTradeId ? "Trade updated successfully!" : "Trade signal added successfully!");
        });
        
        // Cancel adding/editing trade
        cancelAddTradeBtn.addEventListener('click', () => {
            tradeForm.reset();
            document.getElementById('edit-trade-id').value = '';
            submitTradeBtn.innerHTML = '<i class="fas fa-plus"></i> Add Trade Signal';
            tradeFormImagePreview.src = "https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80";
        });
        
        // Clear form
        clearFormBtn.addEventListener('click', () => {
            tradeForm.reset();
            document.getElementById('edit-trade-id').value = '';
            submitTradeBtn.innerHTML = '<i class="fas fa-plus"></i> Add Trade Signal';
            tradeFormImagePreview.src = "https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80";
        });
        
        // Modal Event Listeners
        closeUpdateModalBtn.addEventListener('click', closeUpdateModal);
        cancelUpdateBtn.addEventListener('click', closeUpdateModal);
        markAsWinBtn.addEventListener('click', () => updateTradeStatus('win'));
        markAsLossBtn.addEventListener('click', () => updateTradeStatus('loss'));
        markAsOpenBtn.addEventListener('click', () => updateTradeStatus('open'));
        
        // Close modal when clicking outside
        updateModal.addEventListener('click', (e) => {
            if (e.target === updateModal) {
                closeUpdateModal();
            }
        });
        
        // Initialize the app
        showSection(homeSection);
        
        // Set default date for trade form
        document.getElementById('trade-date').value = new Date().toISOString().split('T')[0];
        
        // Load the first question when test section is shown (for direct navigation)
        navTest.addEventListener('click', () => {
            // Reset to registration
            currentQuestion = 0;
            userAnswers.fill(null);
        });
        
        // Handle Enter key in password field
        adminPasswordInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                e.preventDefault();
                submitPasswordBtn.click();
            }
        });
    </script>
</body>
</html>
